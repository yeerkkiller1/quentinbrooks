diffview={buildView:function(b){function x(a,b){var c=document.createElement(a);c.className=b;return c}function l(a,b){var c=document.createElement(a);c.appendChild(document.createTextNode(b));return c}function h(a,b,c){a=document.createElement(a);a.className=b;a.appendChild(document.createTextNode(c));return a}function y(a,b,c,d,e){if(b<c)return a.appendChild(l("th",(b+1).toString())),a.appendChild(h("td",e,d[b].replace(/\t/g,"\u00a0\u00a0\u00a0\u00a0"))),b+1;a.appendChild(document.createElement("th"));
a.appendChild(x("td","empty"));return b}function n(a,b,c,d,e){a.appendChild(l("th",null==b?"":(b+1).toString()));a.appendChild(l("th",null==c?"":(c+1).toString()));a.appendChild(h("td",e,d[null!=b?b:c].replace(/\t/g,"\u00a0\u00a0\u00a0\u00a0")))}var p=b.baseTextLines,r=b.newTextLines,q=b.opcodes,k=b.baseTextName?b.baseTextName:"Base Text",c=b.newTextName?b.newTextName:"New Text",t=b.contextSize;b=0==b.viewType||1==b.viewType?b.viewType:0;if(null==p)throw"Cannot build diff view; baseTextLines is not defined.";
if(null==r)throw"Cannot build diff view; newTextLines is not defined.";if(!q)throw"Canno build diff view; opcodes is not defined.";var m=document.createElement("thead"),a=document.createElement("tr");m.appendChild(a);b?(a.appendChild(document.createElement("th")),a.appendChild(document.createElement("th")),a.appendChild(h("th","texttitle",k+" vs. "+c))):(a.appendChild(document.createElement("th")),a.appendChild(h("th","texttitle",k)),a.appendChild(document.createElement("th")),a.appendChild(h("th",
"texttitle",c)));for(var m=[m],k=[],e,c=0;c<q.length;c++){code=q[c];change=code[0];for(var f=code[1],u=code[2],g=code[3],v=code[4],z=Math.max(u-f,v-g),s=[],w=[],d=0;d<z;d++){if(t&&1<q.length&&(0<c&&d==t||0==c&&0==d)&&"equal"==change)if(e=z-(0==c?1:2)*t,1<e)if(s.push(a=document.createElement("tr")),f+=e,g+=e,d+=e-1,a.appendChild(l("th","...")),b||a.appendChild(h("td","skip","")),a.appendChild(l("th","...")),a.appendChild(h("td","skip","")),c+1==q.length)break;else continue;s.push(a=document.createElement("tr"));
b?"insert"==change?n(a,null,g++,r,change):"replace"==change?(w.push(e=document.createElement("tr")),f<u&&n(a,f++,null,p,"delete"),g<v&&n(e,null,g++,r,"insert")):"delete"==change?n(a,f++,null,p,change):n(a,f++,g++,p,change):(f=y(a,f,u,p,change),g=y(a,g,v,r,change))}for(d=0;d<s.length;d++)k.push(s[d]);for(d=0;d<w.length;d++)k.push(w[d])}k.push(a=h("th","author","diff view generated by "));a.setAttribute("colspan",b?3:4);a.appendChild(e=l("a","jsdifflib"));e.setAttribute("href","http://github.com/cemerick/jsdifflib");
m.push(a=document.createElement("tbody"));for(c in k)a.appendChild(k[c]);a=x("table","diff"+(b?" inlinediff":""));for(c in m)a.appendChild(m[c]);return a}};
