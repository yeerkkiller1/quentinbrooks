<p>
    <h1>
        Results Graph
    </h1>

</p>
<h2>
    SCREENSHOTS
</h2>
<p>
    When embedded in the target site all the links will trigger graph creation, and the the graph is interactive.
</p>
<p>

<img src="imgs/WithImageMap.png" usemap="#graphMap" />

<map name="graphMap" id="graphMap">

    <area shape="rect" coords="78.64476386037, 542, 154.20944558522, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/01/2008&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="154.20944558522, 542, 229.77412731006, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/07/2008&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="228.95277207392, 542, 304.51745379877, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/01/2009&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="304.51745379877, 542, 380.08213552361, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/07/2009&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="378.8501026694, 542, 454.41478439425, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/01/2010&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="454.41478439425, 542, 529.9794661191, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/07/2010&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="528.74743326489, 542, 604.31211498973, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/01/2011&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="604.31211498973, 542, 679.87679671458, 555.2" href="http://www.roadraceresults.com/road-warrior-results.php?Length=1 year&Present=01/07/2011&Interval=6 months&Bottom=10:00&Top=10:00:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 531.2, 93, 548.8" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=12:00&Top=16:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 462.62857142857, 93, 480.22857142857" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=14:00&Top=18:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 394.05714285714, 93, 411.65714285714" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=16:00&Top=20:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 325.48571428571, 93, 343.08571428571" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=18:00&Top=22:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 256.91428571429, 93, 274.51428571429" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=20:00&Top=24:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 188.34285714286, 93, 205.94285714286" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=22:00&Top=26:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 119.77142857143, 93, 137.37142857143" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=24:00&Top=28:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="59, 51.2, 93, 68.8" href="http://www.roadraceresults.com/road-warrior-results.php?Length=4 years&Present=22/05/2011&Interval=6 months&Bottom=26:00&Top=30:00&rg=22915" title="Zoom In">

    <area shape="rect" coords="676.340862423, 416.85714285714, 688.340862423, 428.85714285714" onmouseover="Tip('5K<br>17:25.1<br>9/04/2011' , TITLE, 'Jordan 5k' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=10527&place=28">

    <area shape="rect" coords="666.50205338809, 130.64285714286, 687.50205338809, 151.64285714286" onmouseover="Tip('30K<br>2:51:12.0<br>&#160 &#160 27/03/2011&#160 &#160 ' , TITLE, 'Around the Bay' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=10514&place=2181">

    <area shape="circle" coords="668.37782340862, 410.28571428571, 7.8" onmouseover="Tip('HALF<br>1:21:33.9<br>6/03/2011' , TITLE, 'Chilly Half' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=10501&place=24">

    <area shape="rect" coords="659.50308008214, 375.14285714286, 671.50308008214, 387.14285714286" onmouseover="Tip('3K<br>10:46.6<br>&#160 &#160 &#160 &#160 &#160 &#160 27/02/2011&#160 &#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Tim Hortons Grimsby 3K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=10498&place=1">

    <area shape="rect" coords="559.70841889117, 391.14285714286, 571.70841889117, 403.14285714286" onmouseover="Tip('5K<br>18:10.0<br>&#160 &#160 &#160 &#160 &#160 &#160 &#160 &#160 29/06/2010&#160 &#160 &#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Tim Hortons Peach Bud 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=9808&place=12">

    <area shape="rect" coords="449.64681724846, 403.71428571429, 461.64681724846, 415.71428571429" onmouseover="Tip('5K<br>17:48<br>&#160 &#160 &#160 &#160 &#160 4/10/2009&#160 &#160 &#160 &#160 &#160 ' , TITLE, 'The Laurier Loop 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=5044&place=4">

    <area shape="rect" coords="416.79260780287, 424.85714285714, 428.79260780287, 436.85714285714" onmouseover="Tip('5K<br>17:11<br>&#160 &#160 &#160 &#160 16/07/2009&#160 &#160 &#160 &#160 ' , TITLE, 'Downtown Dash 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4891&place=6">

    <area shape="rect" coords="383.40246406571, 440.71428571429, 401.40246406571, 458.71428571429" onmouseover="Tip('10K<br>34:30.0<br>&#160 &#160 &#160 3/05/2009&#160 &#160 &#160 &#160 ' , TITLE, 'Sporting Life 10K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4661&place=43">

    <area shape="rect" coords="382.02772073922, 419.92857142857, 397.02772073922, 434.92857142857" onmouseover="Tip('15K<br>55:05<br>&#160 26/04/2009&#160 &#160 ' , TITLE, 'Billy Taylor 15k' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4638&place=6">

    <area shape="rect" coords="380.24229979466, 420.28571428571, 392.24229979466, 432.28571428571" onmouseover="Tip('5K<br>17:19<br>&#160 18/04/2009&#160 &#160 ' , TITLE, 'ENDURrace 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4611&place=3">

    <area shape="rect" coords="367.52874743326, 416.35714285714, 388.52874743326, 437.35714285714" onmouseover="Tip('30K<br>1:55:33.6<br>&#160 &#160 29/03/2009&#160 &#160 ' , TITLE, 'Around the Bay' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4593&place=16">

    <area shape="circle" coords="366.52977412731, 449.71428571429, 7.8" onmouseover="Tip('HALF<br>1:16:15<br>1/03/2009' , TITLE, 'Chilly Half' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4492&place=7">

    <area shape="rect" coords="330.83572895277, 422.42857142857, 348.83572895277, 440.42857142857" onmouseover="Tip('10Mile<br>58:57<br>&#160 &#160 &#160 &#160 &#160 &#160 26/12/2008&#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Boxing Day 10 Mile Run' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4173&place=9">

    <area shape="circle" coords="317.659137577, 449.71428571429, 13" onmouseover="Tip('MARATHON<br>2:39:25<br>&#160 &#160 &#160 &#160 &#160 &#160 2/11/2008&#160 &#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Road 2 Hope Marathon' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4159&place=7">

    <area shape="rect" coords="305.90965092402, 442, 317.90965092402, 454" onmouseover="Tip('5K<br>16:41<br>&#160 &#160 19/10/2008&#160 &#160 ' , TITLE, 'Oktoberfest 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4117&place=4">

    <area shape="rect" coords="297.16016427105, 428.14285714286, 315.16016427105, 446.14285714286" onmouseover="Tip('10K<br>35:16<br>&#160 &#160 &#160 5/10/2008&#160 &#160 &#160 &#160 ' , TITLE, 'Festival City 10K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4077&place=18">

    <area shape="circle" coords="303.28542094456, 412, 13" onmouseover="Tip('Marathon<br>2:49:53.3<br>&#160 &#160 &#160 &#160 &#160 28/09/2008&#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Scotiabank Marathon' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4319&place=48">

    <area shape="rect" coords="294.41067761807, 433.42857142857, 306.41067761807, 445.42857142857" onmouseover="Tip('5K<br>16:56<br>&#160 &#160 &#160 &#160 21/09/2008&#160 &#160 &#160 &#160 &#160 ' , TITLE, 'The Laurier Loop 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4505&place=2">

    <area shape="circle" coords="283.16221765914, 425.14285714286, 7.8" onmouseover="Tip('HALF<br>1:19:32<br>&#160 10/08/2008&#160 &#160 ' , TITLE, 'ENDURrun Half' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3955&place=1">

    <area shape="rect" coords="268.53798767967, 408.85714285714, 280.53798767967, 420.85714285714" onmouseover="Tip('5K<br>17:39.3<br>&#160 &#160 &#160 &#160 &#160 &#160 &#160 &#160 20/07/2008&#160 &#160 &#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'B.I.G Mardis Gras 5km Run' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=4330&place=1">

    <area shape="rect" coords="265.66324435318, 418, 277.66324435318, 430" onmouseover="Tip('5K<br>17:22.8<br>&#160 &#160 &#160 13/07/2008&#160 &#160 &#160 &#160 ' , TITLE, 'Toronto 5K Nissan' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3922&place=6">

    <area shape="rect" coords="254.86036960986, 413.85714285714, 272.86036960986, 431.85714285714" onmouseover="Tip('10K<br>36:07.2<br>&#160 24/06/2008&#160 &#160 ' , TITLE, 'Peach Bud 10K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3888&place=13">

    <area shape="rect" coords="254.16427104723, 408.28571428571, 266.16427104723, 420.28571428571" onmouseover="Tip('5K<br>17:40<br>&#160 &#160 &#160 &#160 15/06/2008&#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Waterloo Classic 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3866&place=6">

    <area shape="circle" coords="245.79055441478, 414.85714285714, 13" onmouseover="Tip('Marathon<br>2:49:10.2<br>&#160 &#160 &#160 &#160 &#160 11/05/2008&#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Mississauga Marathon' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3792&place=8">

    <area shape="rect" coords="233.9158110883, 437.28571428571, 251.9158110883, 455.28571428571" onmouseover="Tip('10K<br>34:42.5<br>&#160 &#160 &#160 4/05/2008&#160 &#160 &#160 &#160 ' , TITLE, 'Sporting Life 10K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3774&place=42">

    <area shape="rect" coords="222.54209445585, 407.14285714286, 234.54209445585, 419.14285714286" onmouseover="Tip('5K<br>17:42.5<br>&#160 &#160 30/03/2008&#160 &#160 &#160 ' , TITLE, 'Bay and Back 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3712&place=21">

    <area shape="rect" coords="211.0431211499, 424.28571428571, 223.0431211499, 436.28571428571" onmouseover="Tip('5K<br>17:12<br>2/03/2008' , TITLE, 'Frosty 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3705&place=4">

    <area shape="rect" coords="208.16837782341, 411.71428571429, 220.16837782341, 423.71428571429" onmouseover="Tip('5K<br>17:33.8<br>&#160 &#160 &#160 &#160 &#160 &#160 24/02/2008&#160 &#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Tim Hortons Grimsby 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=3704&place=4">

    <area shape="rect" coords="161.76180698152, 411.71428571429, 173.76180698152, 423.71428571429" onmouseover="Tip('5K<br>17:34<br>&#160 &#160 &#160 &#160 &#160 &#160 3/11/2007&#160 &#160 &#160 &#160 &#160 &#160 ' , TITLE, 'Guelph Downtown 5K' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=1522&place=6">

    <area shape="circle" coords="136.55030800821, 384.57142857143, 13" onmouseover="Tip('MARATHON<br>2:57:29<br>&#160 &#160 &#160 &#160 19/08/2007&#160 &#160 &#160 &#160 &#160 ' , TITLE, 'ENDURrun Marathon' , TEXTALIGN, 'center')" onmouseout="UnTip()" href="http://www.roadraceresults.com/display-race-results.php?ferec=1383&place=1">

    <area shape="rect" coords="744, 98, 756, 110" onmouseover="Tip('5K')" onmouseout="UnTip()">

    <area shape="rect" coords="741, 138.8, 759, 156.8" onmouseover="Tip('10 Mile')" onmouseout="UnTip()">

    <area shape="rect" coords="741, 182.6, 759, 200.6" onmouseover="Tip('10K')" onmouseout="UnTip()">

    <area shape="rect" coords="742.5, 227.9, 757.5, 242.9" onmouseover="Tip('15K')" onmouseout="UnTip()">

    <area shape="rect" coords="739.5, 268.7, 760.5, 289.7" onmouseover="Tip('30K')" onmouseout="UnTip()">

    <area shape="circle" coords="750, 323, 7.8" onmouseover="Tip('Half')" onmouseout="UnTip()">

    <area shape="circle" coords="750, 366.8, 13" onmouseover="Tip('Marathon')" onmouseout="UnTip()">

    <area shape="rect" coords="744, 404.6, 756, 416.6" onmouseover="Tip('Other')" onmouseout="UnTip()">

</map>

<br />
<br />
<h2>Code Examples</h2>
<p>
    Below is the main draw function for the data points. It demonstrates the amazing
    flexibility of PHP (the name of the draw function for the shapes is pieced
    together at runtime based on the shape variable).
</p>

<span class="Apple-style-span"
      style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; ">
    <span class="Apple-style-span"
          style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; ">
        <pre class="prettyprint">
public function DrawData()
{
    global $globalimg;            
    $RaceKey["5K"]["Size"] = 2;
    $RaceKey["5K"]["Color"] = 'green';
    $RaceKey["5K"]["Shape"] = 'Box';          
    $RaceKey["8K"]["Size"] = 2.5;
    $RaceKey["8K"]["Color"] = 'green';
    $RaceKey["8K"]["Shape"] = 'Box';
    $RaceKey["5 Mile"]["Size"] = 2.5;
    $RaceKey["5 Mile"]["Color"] = 'orange';
    $RaceKey["5 Mile"]["Shape"] = 'Box';
    $RaceKey["5Mile"]["ALT"] = "5 Mile";
    $RaceKey["10 Mile"]["Size"] = 3;
    $RaceKey["10 Mile"]["Color"] = 'orange';
    $RaceKey["10 Mile"]["Shape"] = 'Box';
    $RaceKey["10Mile"]["ALT"] = "10 Mile";
    $RaceKey["10K"]["Size"] = 3;
    $RaceKey["10K"]["Color"] = 'orange';
    $RaceKey["10K"]["Shape"] = 'Box';
    $RaceKey["15K"]["Size"] = 2.5;
    $RaceKey["15K"]["Color"] = 'pink';
    $RaceKey["15K"]["Shape"] = 'Box';
    $RaceKey["30K"]["Size"] = 3.5;
    $RaceKey["30K"]["Color"] = 'pink';
    $RaceKey["30K"]["Shape"] = 'Box';
    $RaceKey["Half"]["Size"] = 3;
    $RaceKey["Half"]["Color"] = 'grey';
    $RaceKey["Half"]["Shape"] = 'Circle';
    $RaceKey["Half Marathon"]["ALT"] = "Half";
    $RaceKey["Marathon"]["Size"] = 5;
    $RaceKey["Marathon"]["Color"] = 'black';
    $RaceKey["Marathon"]["Shape"] = 'Circle';
    //This is used whenever the distance does not match any of the above.
    $RaceKey["Other"]["Size"] = 2;
    $RaceKey["Other"]["Color"] = 'white';
    $RaceKey["Other"]["Shape"] = 'Box';
    $RaceKey["5Kdownhill"]["ALT"] = "Other";
    $RaceKey["3.5K"]["ALT"] = "Other";
    $RaceKey["6K"]["ALT"] = "Other";                         
    $UsedRaceKeys;
    foreach( $this->data as $key => $value ) 
    {            
        $X = $this->widthBuffer + ($this->dateToNormalizedInt($value["date"]) * $this->dataWidth); 
        $Y = $this->height - (($value["ratingseconds"] - $this->minUnit) * $this->dataHeight) - 
            $this->heightBuffer; //The higher the value the 'lower' the Y, which translates into 
                                //the bar being higher.                                 
        //This and the following loop effectively makes the distance case-insensitive                
        $distance = strtolower($value["distance"]); 
        foreach( $RaceKey as $key2 => $value2 ) 
        {
            if (strtolower($key2) == $distance)
            {
                $distance = $key2;
                break;
            }
        }
        if ($RaceKey[$distance] != null)
        {
        //If there is an alternate name for the distance it is switched from that 
        //alternate to the actual distance
            if ($RaceKey[$distance]["ALT"] != null) 
            {
                $distance = $RaceKey[$distance]["ALT"];
            }
            $sizeT = $RaceKey[$distance]["Size"];
            $colorT = $RaceKey[$distance]["Color"];
            $shapeT = 'Draw' . $RaceKey[$distance]["Shape"]; 
            //This puts the RaceKey in the Legend
            $RaceKey[$distance]["used"] = true;                                
            //$this->imageMap .= $this->$shapeT($X, $Y, $sizeT, $this->$colorT); 
            $this->$shapeT($X, $Y, $sizeT, $this->$colorT); //The imagemap shape is added in this function                  
        }
        else
        {
            $sizeT = $RaceKey["Other"]["Size"]; 
            $colorT = $RaceKey["Other"]["Color"];
            $shapeT = 'Draw' . $RaceKey["Other"]["Shape"];
            //This puts the RaceKey in the Legend
            $RaceKey["Other"]["used"] = true;                 
            //$this->imageMap .= $this->$shapeT($X, $Y, $sizeT, $this->$colorT);
            $this->$shapeT($X, $Y, $sizeT, $this->$colorT); //The imagemap shape is added in this function
        }                 
        $this->AddToolTip($this->MakeTip($value), $this->MakeRaceLink($key, $value["place"]));
        //$this->imageMap .= 'onmouseover="Tip(\'' . $this->MakeTip($value) . '\')" onmouseout="UnTip()">'; 
        //Add the textual information to the imagemap                     
    }
    foreach( $RaceKey as $key => $value ) 
    { 
        if ($value["used"])
        {
            $UsedRaceKeys[$key] = $value;
        }                
    }
    return $UsedRaceKeys;
}  
  </pre>
    </span>
</span>